External Email: Use caution with links and attachments in this communication.
Courriel externe : Faites preuve de prudence en ce qui a trait aux liens et aux pi√®ces jointes dans cette communication.

Hi Kevin,

As per our meeting today, below the plan to implement IHS log rotation on DEV server.  Let you know when implemented.


Regards,

Carlos Duarte Gonzalez
WebSphere Support Team Lead

Email: Carlos.Duarte.Gonzalez@Kyndryl.com
Pager: 416-375-5370
 



From: Carlos Duarte Gonzalez 
Sent: May 6, 2022 3:31 PM
To: Gagan Bajaj <Gagan.Bajaj1@kyndryl.com>; RAJESH DAVULURI <Rajesh.Davuluri@kyndryl.com>
Subject: Implement log rotation on DEV server ND3600WAS01

Hi Gagan/Rajesh;

As per our yesterday session, please find below the instructions to implement log rotation on BPM DEV server.  Please create a change for Tuesday if possible.

Implementation steps

1. Login into server
2. Navigate to E:\IBM\HTTPServer\conf
3. Create a backup file of httpd.conf  (e.g httpd.conf.yyyy.mm.dd)
4. Edit httpd.conf file and make the following update

Before

ErrorLog logs/error.log

After

#ErrorLog logs/error.log
ErrorLog "|E:/IBM/HTTPServer/bin/rotatelogs.exe E:/IBM/HTTPServer/logs/error.log.%Y-%m-%d-%H_%M_%S 604800"

Before

CustomLog logs/access.log common

After

#CustomLog logs/access.log common
CustomLog "|E:/IBM/HTTPServer/bin/rotatelogs.exe E:/IBM/HTTPServer/logs/access.log.%Y-%m-%d-%H_%M_%S 604800" common

5. Save the changes to httpd.conf file

6. Stop service "IBM HTTP Server V8.0 from Windows service screen

7. Rename both access.log and error.log in E:\IBM\HTTPServer\logs to access.log.yyyy.mm.dd and error.log.yyyy.mm.dd.  We should start IBM HTTP server with new logs

8. Start service "IBM HTTP Server V8.0 from Windows service screen

Rollback steps 

1. Stop  service "IBM HTTP Server V8.0 from Windows service screen

2. Restore httpd.conf file on E:\IBM\HTTPServer\conf from backup done during implementation

3. Start service "IBM HTTP Server V8.0 from Windows service screen


Verification steps:

1. Check IBM HTTP server is up and running on Task Manager
2. Check that new access.log and error.log were created on startup on E:\IBM\HTTPServer\logs
3. Open error.log and access.log and confirm that IHS is working fine.

Regards,

Carlos Duarte Gonzalez
WebSphere Support Team Lead

Email: Carlos.Duarte.Gonzalez@Kyndryl.com
Pager: 416-375-5370
 

